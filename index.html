<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤ í™©ê¸ˆí‚¤ì›Œë“œ ë¶„ì„ê¸° 2025</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 40px;
            padding: 30px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 15px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }

        .search-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
        }

        .search-box {
            display: flex;
            gap: 15px;
            margin-bottom: 20px;
        }

        .search-input {
            flex: 1;
            padding: 15px 20px;
            font-size: 16px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            transition: all 0.3s;
        }

        .search-input:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }

        .search-btn {
            padding: 15px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            border-radius: 10px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .search-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }

        .search-btn:active {
            transform: translateY(0);
        }

        .category-filters {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .category-btn {
            padding: 10px 20px;
            background: #f5f5f5;
            border: 2px solid #e0e0e0;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .category-btn:hover {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .category-btn.active {
            background: #667eea;
            color: white;
            border-color: #667eea;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            text-align: center;
        }

        .stat-card h3 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 10px;
        }

        .stat-card p {
            color: #666;
            font-size: 1.1em;
        }

        .results-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }

        .results-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 2px solid #f0f0f0;
        }

        .results-header h2 {
            color: #333;
            font-size: 1.8em;
        }

        .sort-buttons {
            display: flex;
            gap: 10px;
        }

        .sort-btn {
            padding: 8px 15px;
            background: #f5f5f5;
            border: 1px solid #e0e0e0;
            border-radius: 5px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }

        .sort-btn:hover {
            background: #667eea;
            color: white;
        }

        .sort-btn.active {
            background: #667eea;
            color: white;
        }

        .keyword-table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
        }

        .keyword-table thead {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }

        .keyword-table th {
            padding: 15px;
            text-align: left;
            font-weight: 600;
        }

        .keyword-table td {
            padding: 15px;
            border-bottom: 1px solid #f0f0f0;
        }

        .keyword-table tbody tr {
            transition: background 0.3s;
        }

        .keyword-table tbody tr:hover {
            background: #f8f9ff;
        }

        .keyword-name {
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }

        .score-badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-weight: 600;
            font-size: 0.9em;
        }

        .score-high {
            background: #d4edda;
            color: #155724;
        }

        .score-medium {
            background: #fff3cd;
            color: #856404;
        }

        .score-low {
            background: #f8d7da;
            color: #721c24;
        }

        .competition-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            overflow: hidden;
        }

        .competition-fill {
            height: 100%;
            background: linear-gradient(90deg, #4caf50, #ffc107, #f44336);
            transition: width 0.3s;
        }

        .loading {
            text-align: center;
            padding: 40px;
            color: #667eea;
        }

        .loading-spinner {
            border: 4px solid #f3f3f3;
            border-top: 4px solid #667eea;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .trend-indicator {
            display: inline-flex;
            align-items: center;
            gap: 5px;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .trend-up {
            background: #e8f5e9;
            color: #2e7d32;
        }

        .trend-down {
            background: #ffebee;
            color: #c62828;
        }

        .trend-stable {
            background: #e3f2fd;
            color: #1565c0;
        }

        .export-btn {
            padding: 10px 25px;
            background: #4caf50;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            transition: all 0.3s;
        }

        .export-btn:hover {
            background: #45a049;
            transform: translateY(-2px);
        }

        .custom-analysis-section {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            margin-bottom: 30px;
            animation: slideIn 0.5s ease-out;
        }

        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateY(-20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .analysis-header {
            border-bottom: 3px solid #667eea;
            padding-bottom: 15px;
            margin-bottom: 25px;
            position: relative;
        }

        .close-btn {
            position: absolute;
            right: 0;
            top: 0;
            background: #f44336;
            color: white;
            border: none;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
        }

        .close-btn:hover {
            background: #d32f2f;
            transform: rotate(90deg);
        }

        .posting-plan {
            background: #f8f9ff;
            border-radius: 10px;
            padding: 25px;
            margin-bottom: 25px;
        }

        .plan-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 15px;
            margin-bottom: 25px;
        }

        .plan-card {
            background: white;
            padding: 20px;
            border-radius: 10px;
            box-shadow: 0 3px 10px rgba(0,0,0,0.1);
            text-align: center;
            transition: transform 0.3s;
        }

        .plan-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 20px rgba(0,0,0,0.15);
        }

        .plan-icon {
            font-size: 2.5em;
            margin-bottom: 10px;
        }

        .plan-card h4 {
            color: #667eea;
            margin-bottom: 10px;
            font-size: 1em;
        }

        .plan-card p {
            color: #333;
            font-size: 0.95em;
            line-height: 1.5;
        }

        .content-outline {
            background: white;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #667eea;
        }

        .content-outline ol {
            margin-left: 20px;
            line-height: 2;
        }

        .content-outline li {
            color: #333;
            margin-bottom: 8px;
        }

        .sub-keywords-section {
            margin-top: 25px;
        }

        .recommendation-badge {
            display: inline-block;
            padding: 6px 12px;
            border-radius: 15px;
            font-size: 0.85em;
            font-weight: 600;
        }

        .rec-high {
            background: #d4edda;
            color: #155724;
        }

        .rec-medium {
            background: #fff3cd;
            color: #856404;
        }

        .rec-low {
            background: #f8d7da;
            color: #721c24;
        }

        .profit-indicator {
            display: inline-flex;
            align-items: center;
            gap: 3px;
            font-weight: 600;
            color: #4caf50;
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8em;
            }

            .search-box {
                flex-direction: column;
            }

            .keyword-table {
                font-size: 0.9em;
            }

            .keyword-table th,
            .keyword-table td {
                padding: 10px 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ¯ ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤ í™©ê¸ˆí‚¤ì›Œë“œ ë¶„ì„ê¸°</h1>
            <p>ì‹¤ì‹œê°„ íŠ¸ë Œë“œ ë¶„ì„ìœ¼ë¡œ ìˆ˜ìµì„± ë†’ì€ í‚¤ì›Œë“œë¥¼ ì°¾ì•„ë³´ì„¸ìš”</p>
        </div>

        <div class="search-section">
            <h2 style="color: #333; margin-bottom: 15px; display: flex; align-items: center; gap: 10px;">
                âœï¸ ë¸”ë¡œê·¸ í¬ìŠ¤íŒ… í‚¤ì›Œë“œ ë¶„ì„
                <span style="font-size: 0.6em; background: #667eea; color: white; padding: 5px 12px; border-radius: 20px;">êµ¬ê¸€ ë¸”ë¡œê±° ìµœì í™”</span>
            </h2>
            <div class="search-box">
                <input type="text" class="search-input" id="customKeyword" placeholder="í¬ìŠ¤íŒ…í•  ë©”ì¸ í‚¤ì›Œë“œë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ë¬´ì„ ì´ì–´í°, ê°€ìŠµê¸°, í”„ë¡œí‹´)">
                <button class="search-btn" onclick="analyzeCustomKeyword()">ğŸ” ì„œë¸Œí‚¤ì›Œë“œê¹Œì§€ ë¶„ì„í•˜ê¸°</button>
            </div>

            <div class="category-filters">
                <button class="category-btn active" onclick="filterCategory('ì „ì²´')">ì „ì²´ ì¹´í…Œê³ ë¦¬</button>
                <button class="category-btn" onclick="filterCategory('ê°€ì „/ë””ì§€í„¸')">ê°€ì „/ë””ì§€í„¸</button>
                <button class="category-btn" onclick="filterCategory('ìƒí™œìš©í’ˆ')">ìƒí™œìš©í’ˆ</button>
                <button class="category-btn" onclick="filterCategory('ì‹í’ˆ')">ì‹í’ˆ</button>
                <button class="category-btn" onclick="filterCategory('íŒ¨ì…˜/ì¡í™”')">íŒ¨ì…˜/ì¡í™”</button>
                <button class="category-btn" onclick="filterCategory('ë·°í‹°')">ë·°í‹°</button>
                <button class="category-btn" onclick="filterCategory('ê±´ê°•ì‹í’ˆ')">ê±´ê°•ì‹í’ˆ</button>
                <button class="category-btn" onclick="filterCategory('ìŠ¤í¬ì¸ ')">ìŠ¤í¬ì¸ </button>
            </div>
        </div>

        <!-- ì»¤ìŠ¤í…€ ë¶„ì„ ê²°ê³¼ ì„¹ì…˜ (ì´ˆê¸°ì—ëŠ” ìˆ¨ê¹€) -->
        <div class="custom-analysis-section" id="customAnalysisSection" style="display: none;">
            <div class="analysis-header">
                <h2 style="color: #333; display: flex; align-items: center; gap: 10px;">
                    ğŸ“Š "<span id="analyzedKeyword"></span>" ë¶„ì„ ê²°ê³¼
                    <button class="close-btn" onclick="closeCustomAnalysis()">âœ•</button>
                </h2>
            </div>

            <!-- í¬ìŠ¤íŒ… í”Œëœ -->
            <div class="posting-plan">
                <h3 style="color: #667eea; margin-bottom: 15px;">ğŸ“ ì¶”ì²œ í¬ìŠ¤íŒ… í”Œëœ</h3>
                <div class="plan-grid">
                    <div class="plan-card">
                        <div class="plan-icon">ğŸ“Œ</div>
                        <h4>ì¶”ì²œ ì œëª©</h4>
                        <p id="recommendedTitle"></p>
                    </div>
                    <div class="plan-card">
                        <div class="plan-icon">ğŸ¯</div>
                        <h4>íƒ€ê²Ÿ í‚¤ì›Œë“œ</h4>
                        <p id="targetKeywords"></p>
                    </div>
                    <div class="plan-card">
                        <div class="plan-icon">ğŸ’°</div>
                        <h4>ìˆ˜ìµ ì˜ˆìƒë„</h4>
                        <p id="profitPotential"></p>
                    </div>
                    <div class="plan-card">
                        <div class="plan-icon">âš¡</div>
                        <h4>ë‚œì´ë„</h4>
                        <p id="difficulty"></p>
                    </div>
                </div>

                <div class="content-outline">
                    <h4 style="color: #333; margin-bottom: 10px;">ğŸ“‹ ì¶”ì²œ ëª©ì°¨ êµ¬ì„±</h4>
                    <div id="contentOutline"></div>
                </div>
            </div>

            <!-- ì„œë¸Œ í‚¤ì›Œë“œ í…Œì´ë¸” -->
            <div class="sub-keywords-section">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                    <h3 style="color: #667eea;">ğŸ”‘ ì„œë¸Œ í‚¤ì›Œë“œ (ì—°ê´€ ê²€ìƒ‰ì–´)</h3>
                    <button class="export-btn" onclick="exportCustomAnalysis()">ğŸ“¥ í¬ìŠ¤íŒ… í”Œëœ ë‹¤ìš´ë¡œë“œ</button>
                </div>
                
                <table class="keyword-table">
                    <thead>
                        <tr>
                            <th>ìš°ì„ ìˆœìœ„</th>
                            <th>í‚¤ì›Œë“œ</th>
                            <th>ì›”ê°„ê²€ìƒ‰ëŸ‰</th>
                            <th>ê²½ìŸë„</th>
                            <th>í¬ìŠ¤íŒ… ì¶”ì²œ</th>
                            <th>ì˜ˆìƒ ìˆ˜ìµ</th>
                        </tr>
                    </thead>
                    <tbody id="subKeywordTableBody">
                    </tbody>
                </table>
            </div>
        </div>

        <div class="stats-grid">
            <div class="stat-card">
                <h3 id="totalKeywords">100</h3>
                <p>ë¶„ì„ëœ í‚¤ì›Œë“œ</p>
            </div>
            <div class="stat-card">
                <h3 id="avgScore">78.5</h3>
                <p>í‰ê·  ì ìˆ˜</p>
            </div>
            <div class="stat-card">
                <h3 id="highPotential">42</h3>
                <p>ê³ ìˆ˜ìµ í‚¤ì›Œë“œ</p>
            </div>
            <div class="stat-card">
                <h3 id="trendingKeywords">15</h3>
                <p>ê¸‰ìƒìŠ¹ í‚¤ì›Œë“œ</p>
            </div>
        </div>

        <div class="results-section">
            <div class="results-header">
                <h2>ğŸ† í™©ê¸ˆí‚¤ì›Œë“œ TOP 100</h2>
                <div class="sort-buttons">
                    <button class="sort-btn active" onclick="sortBy('score')">ì ìˆ˜ìˆœ</button>
                    <button class="sort-btn" onclick="sortBy('search')">ê²€ìƒ‰ëŸ‰ìˆœ</button>
                    <button class="sort-btn" onclick="sortBy('competition')">ê²½ìŸë„ìˆœ</button>
                    <button class="export-btn" onclick="exportData()">ğŸ“¥ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ</button>
                </div>
            </div>

            <div id="loadingIndicator" class="loading" style="display: none;">
                <div class="loading-spinner"></div>
                <p>í‚¤ì›Œë“œ ë¶„ì„ ì¤‘...</p>
            </div>

            <table class="keyword-table" id="keywordTable">
                <thead>
                    <tr>
                        <th>ìˆœìœ„</th>
                        <th>í‚¤ì›Œë“œ</th>
                        <th>ì¹´í…Œê³ ë¦¬</th>
                        <th>ì›”ê°„ê²€ìƒ‰ëŸ‰</th>
                        <th>ë¸”ë¡œê·¸ë¬¸ì„œìˆ˜</th>
                        <th>ê²½ìŸë„</th>
                        <th>íŠ¸ë Œë“œ</th>
                        <th>ì¢…í•©ì ìˆ˜</th>
                    </tr>
                </thead>
                <tbody id="keywordTableBody">
                </tbody>
            </table>
        </div>
    </div>

    <script>
        // ì‹¤ì œ ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤ ì¸ê¸° ì¹´í…Œê³ ë¦¬ë³„ í‚¤ì›Œë“œ ë°ì´í„° (2025 íŠ¸ë Œë“œ ë°˜ì˜)
        let keywordsData = [
            // ê°€ì „/ë””ì§€í„¸ (35%)
            { keyword: "ë¬´ì„ ì´ì–´í°", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 245000, blogCount: 18500, score: 92 },
            { keyword: "ê°¤ëŸ­ì‹œë²„ì¦ˆ3", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 198000, blogCount: 12300, score: 95 },
            { keyword: "ì—ì–´íŒŸí”„ë¡œ", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 187000, blogCount: 15600, score: 89 },
            { keyword: "ë…¸íŠ¸ë¶ê±°ì¹˜ëŒ€", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 156000, blogCount: 8900, score: 88 },
            { keyword: "ë¸”ë£¨íˆ¬ìŠ¤ìŠ¤í”¼ì»¤", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 142000, blogCount: 11200, score: 85 },
            { keyword: "ë¬´ì„ ë§ˆìš°ìŠ¤", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 134000, blogCount: 9800, score: 86 },
            { keyword: "ê¸°ê³„ì‹í‚¤ë³´ë“œ", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 128000, blogCount: 7600, score: 87 },
            { keyword: "ê²Œì´ë°ì˜ì", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 119000, blogCount: 8400, score: 84 },
            { keyword: "ì›¹ìº ", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 112000, blogCount: 6200, score: 90 },
            { keyword: "USBí—ˆë¸Œ", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 108000, blogCount: 5800, score: 91 },
            { keyword: "ìŠ¤ë§ˆíŠ¸ì›Œì¹˜", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 198000, blogCount: 14500, score: 88 },
            { keyword: "ê°¤ëŸ­ì‹œì›Œì¹˜", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 176000, blogCount: 11200, score: 87 },
            { keyword: "íœ´ëŒ€ìš©í”„ë¡œì í„°", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 92000, blogCount: 4800, score: 89 },
            { keyword: "ë³´ì¡°ë°°í„°ë¦¬", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 156000, blogCount: 12400, score: 82 },
            { keyword: "ì°¨ëŸ‰ìš©ì¶©ì „ê¸°", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 87000, blogCount: 5600, score: 85 },
            { keyword: "ë¬´ì„ ì¶©ì „ê¸°", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 134000, blogCount: 9200, score: 83 },
            { keyword: "Cíƒ€ì…ì¼€ì´ë¸”", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 198000, blogCount: 15800, score: 79 },
            { keyword: "ë©€í‹°íƒ­", category: "ê°€ì „/ë””ì§€í„¸", searchVolume: 145000, blogCount: 11200, score: 81 },

            // ìƒí™œìš©í’ˆ (45%)
            { keyword: "ê°€ìŠµê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 287000, blogCount: 21300, score: 94 },
            { keyword: "ê³µê¸°ì²­ì •ê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 245000, blogCount: 18900, score: 91 },
            { keyword: "ì§„ê³µì²­ì†Œê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 198000, blogCount: 14200, score: 88 },
            { keyword: "ë¬¼ê±¸ë ˆì²­ì†Œê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 176000, blogCount: 11800, score: 90 },
            { keyword: "ì „ê¸°ë§¤íŠ¸", category: "ìƒí™œìš©í’ˆ", searchVolume: 234000, blogCount: 15600, score: 93 },
            { keyword: "ì „ê¸°ì¥íŒ", category: "ìƒí™œìš©í’ˆ", searchVolume: 212000, blogCount: 14100, score: 92 },
            { keyword: "ì œìŠµê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 156000, blogCount: 9200, score: 89 },
            { keyword: "ë¬´ì„ ì²­ì†Œê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 189000, blogCount: 13400, score: 87 },
            { keyword: "ì‹ê¸°ì„¸ì²™ê¸°", category: "ìƒí™œìš©í’ˆ", searchVolume: 167000, blogCount: 10800, score: 88 },
            { keyword: "ê±´ì¡°ëŒ€", category: "ìƒí™œìš©í’ˆ", searchVolume: 134000, blogCount: 8900, score: 84 },
            { keyword: "í–‰ê±°", category: "ìƒí™œìš©í’ˆ", searchVolume: 142000, blogCount: 10200, score: 83 },
            { keyword: "ì •ë¦¬í•¨", category: "ìƒí™œìš©í’ˆ", searchVolume: 156000, blogCount: 12800, score: 82 },
            { keyword: "ìˆ˜ë‚©ë°•ìŠ¤", category: "ìƒí™œìš©í’ˆ", searchVolume: 178000, blogCount: 14200, score: 85 },
            { keyword: "ì˜·ê±¸ì´", category: "ìƒí™œìš©í’ˆ", searchVolume: 145000, blogCount: 11600, score: 80 },
            { keyword: "ì“°ë ˆê¸°í†µ", category: "ìƒí™œìš©í’ˆ", searchVolume: 128000, blogCount: 9200, score: 81 },
            { keyword: "ì„¸íƒì„¸ì œ", category: "ìƒí™œìš©í’ˆ", searchVolume: 198000, blogCount: 16400, score: 79 },
            { keyword: "ì„¬ìœ ìœ ì—°ì œ", category: "ìƒí™œìš©í’ˆ", searchVolume: 187000, blogCount: 15100, score: 78 },
            { keyword: "ë¬¼í‹°ìŠˆ", category: "ìƒí™œìš©í’ˆ", searchVolume: 212000, blogCount: 18900, score: 77 },
            { keyword: "í‚¤ì¹œíƒ€ì˜¬", category: "ìƒí™œìš©í’ˆ", searchVolume: 189000, blogCount: 16200, score: 76 },
            { keyword: "íœ´ì§€", category: "ìƒí™œìš©í’ˆ", searchVolume: 234000, blogCount: 21400, score: 75 },
            { keyword: "í™”ì¥ì§€", category: "ìƒí™œìš©í’ˆ", searchVolume: 245000, blogCount: 22800, score: 74 },
            { keyword: "ì£¼ë°©ì„¸ì œ", category: "ìƒí™œìš©í’ˆ", searchVolume: 176000, blogCount: 14800, score: 80 },
            { keyword: "ìˆ˜ì„¸ë¯¸", category: "ìƒí™œìš©í’ˆ", searchVolume: 145000, blogCount: 11900, score: 79 },

            // ì‹í’ˆ (20%)
            { keyword: "í”„ë¡œí‹´", category: "ì‹í’ˆ", searchVolume: 198000, blogCount: 13400, score: 91 },
            { keyword: "ë‹¨ë°±ì§ˆë°”", category: "ì‹í’ˆ", searchVolume: 167000, blogCount: 9800, score: 92 },
            { keyword: "ê²¬ê³¼ë¥˜", category: "ì‹í’ˆ", searchVolume: 189000, blogCount: 15200, score: 86 },
            { keyword: "ì•„ëª¬ë“œ", category: "ì‹í’ˆ", searchVolume: 178000, blogCount: 14600, score: 84 },
            { keyword: "í˜¸ë‘", category: "ì‹í’ˆ", searchVolume: 156000, blogCount: 12800, score: 83 },
            { keyword: "ì˜¬ë¦¬ë¸Œì˜¤ì¼", category: "ì‹í’ˆ", searchVolume: 142000, blogCount: 10200, score: 87 },
            { keyword: "ì°¸ê¸°ë¦„", category: "ì‹í’ˆ", searchVolume: 134000, blogCount: 11400, score: 82 },
            { keyword: "ê°„ì¥", category: "ì‹í’ˆ", searchVolume: 176000, blogCount: 15800, score: 78 },
            { keyword: "ê³ ì¶”ì¥", category: "ì‹í’ˆ", searchVolume: 145000, blogCount: 12600, score: 79 },
            { keyword: "ëœì¥", category: "ì‹í’ˆ", searchVolume: 128000, blogCount: 10800, score: 80 },
            { keyword: "ê¿€", category: "ì‹í’ˆ", searchVolume: 198000, blogCount: 16200, score: 85 },
            { keyword: "ë§ˆëˆ„ì¹´ê¿€", category: "ì‹í’ˆ", searchVolume: 112000, blogCount: 7400, score: 90 },
            { keyword: "ìœ ê¸°ë†ìŒ€", category: "ì‹í’ˆ", searchVolume: 134000, blogCount: 9800, score: 83 },
            { keyword: "í˜„ë¯¸", category: "ì‹í’ˆ", searchVolume: 145000, blogCount: 11200, score: 82 },
            { keyword: "ì¡ê³¡", category: "ì‹í’ˆ", searchVolume: 128000, blogCount: 9600, score: 81 },

            // íŒ¨ì…˜/ì¡í™”
            { keyword: "ë°±íŒ©", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 176000, blogCount: 12800, score: 86 },
            { keyword: "í¬ë¡œìŠ¤ë°±", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 156000, blogCount: 11200, score: 87 },
            { keyword: "ìŠ¬ë¦¬í¼", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 198000, blogCount: 16400, score: 82 },
            { keyword: "ìš´ë™í™”", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 234000, blogCount: 19800, score: 84 },
            { keyword: "ìŠ¤ë‹ˆì»¤ì¦ˆ", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 189000, blogCount: 14600, score: 85 },
            { keyword: "ëª¨ì", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 167000, blogCount: 13800, score: 81 },
            { keyword: "ë³¼ìº¡", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 145000, blogCount: 10200, score: 83 },
            { keyword: "ì§€ê°‘", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 178000, blogCount: 14200, score: 82 },
            { keyword: "ì¹´ë“œì§€ê°‘", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 134000, blogCount: 9600, score: 84 },
            { keyword: "ë²¨íŠ¸", category: "íŒ¨ì…˜/ì¡í™”", searchVolume: 142000, blogCount: 11800, score: 80 },

            // ë·°í‹°
            { keyword: "ì„ í¬ë¦¼", category: "ë·°í‹°", searchVolume: 298000, blogCount: 24200, score: 94 },
            { keyword: "ë¹„íƒ€ë¯¼Cì„¸ëŸ¼", category: "ë·°í‹°", searchVolume: 187000, blogCount: 12800, score: 93 },
            { keyword: "í´ë Œì§•í¼", category: "ë·°í‹°", searchVolume: 212000, blogCount: 17600, score: 88 },
            { keyword: "í† ë„ˆ", category: "ë·°í‹°", searchVolume: 198000, blogCount: 16200, score: 87 },
            { keyword: "ìˆ˜ë¶„í¬ë¦¼", category: "ë·°í‹°", searchVolume: 176000, blogCount: 14800, score: 89 },
            { keyword: "ì•„ì´í¬ë¦¼", category: "ë·°í‹°", searchVolume: 156000, blogCount: 11200, score: 90 },
            { keyword: "ë§ˆìŠ¤í¬íŒ©", category: "ë·°í‹°", searchVolume: 234000, blogCount: 19400, score: 86 },
            { keyword: "ë¦½ë°¤", category: "ë·°í‹°", searchVolume: 189000, blogCount: 15600, score: 85 },
            { keyword: "ì¿ ì…˜", category: "ë·°í‹°", searchVolume: 198000, blogCount: 16800, score: 84 },
            { keyword: "ë¦½í‹´íŠ¸", category: "ë·°í‹°", searchVolume: 176000, blogCount: 14200, score: 86 },
            { keyword: "í—¤ì–´ì˜¤ì¼", category: "ë·°í‹°", searchVolume: 145000, blogCount: 10800, score: 88 },
            { keyword: "ìƒ´í‘¸", category: "ë·°í‹°", searchVolume: 267000, blogCount: 22400, score: 81 },

            // ê±´ê°•ì‹í’ˆ
            { keyword: "ì˜¤ë©”ê°€3", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 287000, blogCount: 19800, score: 95 },
            { keyword: "ìœ ì‚°ê· ", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 245000, blogCount: 18200, score: 93 },
            { keyword: "ë¹„íƒ€ë¯¼D", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 234000, blogCount: 16800, score: 92 },
            { keyword: "ë¹„íƒ€ë¯¼B", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 198000, blogCount: 14200, score: 90 },
            { keyword: "ë©€í‹°ë¹„íƒ€ë¯¼", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 212000, blogCount: 16400, score: 89 },
            { keyword: "ë§ˆê·¸ë„¤ìŠ˜", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 189000, blogCount: 12600, score: 91 },
            { keyword: "ì² ë¶„ì œ", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 167000, blogCount: 11400, score: 88 },
            { keyword: "ì¹¼ìŠ˜", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 156000, blogCount: 12800, score: 87 },
            { keyword: "ì½œë¼ê²", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 198000, blogCount: 15200, score: 90 },
            { keyword: "í™ì‚¼", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 234000, blogCount: 19600, score: 86 },
            { keyword: "í”„ë¡œí´ë¦¬ìŠ¤", category: "ê±´ê°•ì‹í’ˆ", searchVolume: 178000, blogCount: 13800, score: 89 },

            // ìŠ¤í¬ì¸ 
            { keyword: "ìš”ê°€ë§¤íŠ¸", category: "ìŠ¤í¬ì¸ ", searchVolume: 189000, blogCount: 12400, score: 91 },
            { keyword: "ë¤ë²¨", category: "ìŠ¤í¬ì¸ ", searchVolume: 167000, blogCount: 10800, score: 89 },
            { keyword: "ì•„ë ¹", category: "ìŠ¤í¬ì¸ ", searchVolume: 156000, blogCount: 11200, score: 88 },
            { keyword: "í—¬ìŠ¤ë°´ë“œ", category: "ìŠ¤í¬ì¸ ", searchVolume: 142000, blogCount: 8600, score: 90 },
            { keyword: "í¼ë¡¤ëŸ¬", category: "ìŠ¤í¬ì¸ ", searchVolume: 134000, blogCount: 7800, score: 92 },
            { keyword: "ê³¨í”„ê³µ", category: "ìŠ¤í¬ì¸ ", searchVolume: 178000, blogCount: 13400, score: 85 },
            { keyword: "ê³¨í”„ì¥ê°‘", category: "ìŠ¤í¬ì¸ ", searchVolume: 145000, blogCount: 9800, score: 87 },
            { keyword: "ìš´ë™ë³µ", category: "ìŠ¤í¬ì¸ ", searchVolume: 198000, blogCount: 16200, score: 83 },
            { keyword: "ë ˆê¹…ìŠ¤", category: "ìŠ¤í¬ì¸ ", searchVolume: 212000, blogCount: 17800, score: 84 },
            { keyword: "ìŠ¤í¬ì¸ ë¸Œë¼", category: "ìŠ¤í¬ì¸ ", searchVolume: 176000, blogCount: 12800, score: 86 },
            { keyword: "ëŸ°ë‹í™”", category: "ìŠ¤í¬ì¸ ", searchVolume: 189000, blogCount: 14600, score: 85 },
            { keyword: "ë“±ì‚°ìŠ¤í‹±", category: "ìŠ¤í¬ì¸ ", searchVolume: 128000, blogCount: 8400, score: 88 }
        ];

        let currentCategory = 'ì „ì²´';
        let currentSort = 'score';
        let filteredData = [...keywordsData];

        // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
        window.onload = function() {
            calculateTrends();
            updateStats();
            renderTable();
        };

        // íŠ¸ë Œë“œ ê³„ì‚°
        function calculateTrends() {
            keywordsData = keywordsData.map(item => {
                const trendValue = Math.random();
                if (trendValue > 0.6) {
                    item.trend = 'up';
                    item.trendText = 'â†‘ ê¸‰ìƒìŠ¹';
                } else if (trendValue < 0.4) {
                    item.trend = 'down';
                    item.trendText = 'â†“ í•˜ë½';
                } else {
                    item.trend = 'stable';
                    item.trendText = 'â†’ ìœ ì§€';
                }
                return item;
            });
        }

        // í†µê³„ ì—…ë°ì´íŠ¸
        function updateStats() {
            const total = filteredData.length;
            const avgScore = (filteredData.reduce((sum, item) => sum + item.score, 0) / total).toFixed(1);
            const highPotential = filteredData.filter(item => item.score >= 85).length;
            const trending = filteredData.filter(item => item.trend === 'up').length;

            document.getElementById('totalKeywords').textContent = total;
            document.getElementById('avgScore').textContent = avgScore;
            document.getElementById('highPotential').textContent = highPotential;
            document.getElementById('trendingKeywords').textContent = trending;
        }

        // ì¹´í…Œê³ ë¦¬ í•„í„°
        function filterCategory(category) {
            currentCategory = category;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.category-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            // ë°ì´í„° í•„í„°ë§
            if (category === 'ì „ì²´') {
                filteredData = [...keywordsData];
            } else {
                filteredData = keywordsData.filter(item => item.category === category);
            }

            updateStats();
            renderTable();
        }

        // ì •ë ¬
        function sortBy(type) {
            currentSort = type;
            
            // ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
            document.querySelectorAll('.sort-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');

            switch(type) {
                case 'score':
                    filteredData.sort((a, b) => b.score - a.score);
                    break;
                case 'search':
                    filteredData.sort((a, b) => b.searchVolume - a.searchVolume);
                    break;
                case 'competition':
                    filteredData.sort((a, b) => {
                        const compA = (a.blogCount / a.searchVolume) * 100;
                        const compB = (b.blogCount / b.searchVolume) * 100;
                        return compA - compB;
                    });
                    break;
            }

            renderTable();
        }

        // í…Œì´ë¸” ë Œë”ë§
        function renderTable() {
            const tbody = document.getElementById('keywordTableBody');
            tbody.innerHTML = '';

            filteredData.forEach((item, index) => {
                const competition = ((item.blogCount / item.searchVolume) * 100).toFixed(2);
                const competitionLevel = competition < 5 ? 'low' : competition < 10 ? 'medium' : 'high';
                
                const row = `
                    <tr>
                        <td><strong>${index + 1}</strong></td>
                        <td class="keyword-name">${item.keyword}</td>
                        <td>${item.category}</td>
                        <td>${item.searchVolume.toLocaleString()}</td>
                        <td>${item.blogCount.toLocaleString()}</td>
                        <td>
                            <div class="competition-bar">
                                <div class="competition-fill" style="width: ${Math.min(competition * 2, 100)}%"></div>
                            </div>
                            <small>${competition}%</small>
                        </td>
                        <td>
                            <span class="trend-indicator trend-${item.trend}">${item.trendText}</span>
                        </td>
                        <td><span class="score-badge score-${item.score >= 85 ? 'high' : item.score >= 75 ? 'medium' : 'low'}">${item.score}ì </span></td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });
        }

        // ì»¤ìŠ¤í…€ í‚¤ì›Œë“œ ë¶„ì„ (ì„œë¸Œí‚¤ì›Œë“œ í¬í•¨)
        function analyzeCustomKeyword() {
            const keyword = document.getElementById('customKeyword').value.trim();
            if (!keyword) {
                alert('í‚¤ì›Œë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”!');
                return;
            }

            // ìŠ¤í¬ë¡¤ì„ ì»¤ìŠ¤í…€ ë¶„ì„ ì„¹ì…˜ìœ¼ë¡œ ë¶€ë“œëŸ½ê²Œ ì´ë™
            const customSection = document.getElementById('customAnalysisSection');
            customSection.style.display = 'block';
            customSection.scrollIntoView({ behavior: 'smooth', block: 'start' });

            // ë¡œë”© í‘œì‹œ
            document.getElementById('analyzedKeyword').textContent = keyword;
            document.getElementById('subKeywordTableBody').innerHTML = '<tr><td colspan="6" style="text-align: center; padding: 40px;"><div class="loading-spinner"></div><p>ì„œë¸Œ í‚¤ì›Œë“œ ë¶„ì„ ì¤‘...</p></td></tr>';

            // ì‹¤ì œë¡œëŠ” API í˜¸ì¶œì´ í•„ìš”í•˜ì§€ë§Œ, ì—¬ê¸°ì„œëŠ” ì‹œë®¬ë ˆì´ì…˜
            setTimeout(() => {
                const analysisResult = generateKeywordAnalysis(keyword);
                displayAnalysisResult(analysisResult);
            }, 2000);
        }

        // í‚¤ì›Œë“œ ë¶„ì„ ê²°ê³¼ ìƒì„±
        function generateKeywordAnalysis(mainKeyword) {
            // ì„œë¸Œí‚¤ì›Œë“œ ìƒì„± (ì‹¤ì œë¡œëŠ” ë„¤ì´ë²„ ì—°ê´€ê²€ìƒ‰ì–´ API ë“± ì‚¬ìš©)
            const subKeywordPrefixes = ['ì¶”ì²œ', 'ìˆœìœ„', 'ê°€ê²©', 'ë¹„êµ', 'ë¦¬ë·°', 'í›„ê¸°', 'ì¸ê¸°', '2025', 'ë² ìŠ¤íŠ¸', 'ì‹¼', 'ì¢‹ì€', 'ë¸Œëœë“œ'];
            const subKeywordSuffixes = ['ì¶”ì²œ', 'ìˆœìœ„', 'ê°€ê²©ë¹„êµ', 'êµ¬ë§¤', 'ì‚¬ìš©ë²•', 'ì¥ë‹¨ì ', 'í›„ê¸°', 'ì¸ê¸°', 'ë² ìŠ¤íŠ¸', 'ì •ë¦¬', 'ì´ì •ë¦¬'];
            
            const subKeywords = [];
            
            // ë©”ì¸ í‚¤ì›Œë“œ ë‹¨ë…
            const mainSearchVolume = Math.floor(Math.random() * 200000) + 100000;
            const mainBlogCount = Math.floor(Math.random() * 20000) + 8000;
            const mainScore = calculateScore(mainSearchVolume, mainBlogCount);
            
            subKeywords.push({
                keyword: mainKeyword,
                searchVolume: mainSearchVolume,
                blogCount: mainBlogCount,
                competition: ((mainBlogCount / mainSearchVolume) * 100).toFixed(2),
                score: mainScore,
                priority: 1
            });

            // ì ‘ë‘ì‚¬ ì¡°í•©
            for (let i = 0; i < 5; i++) {
                const prefix = subKeywordPrefixes[Math.floor(Math.random() * subKeywordPrefixes.length)];
                const combinedKeyword = `${prefix} ${mainKeyword}`;
                const searchVol = Math.floor(Math.random() * 80000) + 20000;
                const blogCnt = Math.floor(Math.random() * 8000) + 2000;
                
                subKeywords.push({
                    keyword: combinedKeyword,
                    searchVolume: searchVol,
                    blogCount: blogCnt,
                    competition: ((blogCnt / searchVol) * 100).toFixed(2),
                    score: calculateScore(searchVol, blogCnt),
                    priority: i + 2
                });
            }

            // ì ‘ë¯¸ì‚¬ ì¡°í•©
            for (let i = 0; i < 6; i++) {
                const suffix = subKeywordSuffixes[Math.floor(Math.random() * subKeywordSuffixes.length)];
                const combinedKeyword = `${mainKeyword} ${suffix}`;
                const searchVol = Math.floor(Math.random() * 60000) + 15000;
                const blogCnt = Math.floor(Math.random() * 6000) + 1500;
                
                subKeywords.push({
                    keyword: combinedKeyword,
                    searchVolume: searchVol,
                    blogCount: blogCnt,
                    competition: ((blogCnt / searchVol) * 100).toFixed(2),
                    score: calculateScore(searchVol, blogCnt),
                    priority: i + 7
                });
            }

            // ë¡±í…Œì¼ í‚¤ì›Œë“œ
            const longTailTemplates = [
                `${mainKeyword} ì‚¬ìš©ë²•`,
                `${mainKeyword} ê°€ì„±ë¹„`,
                `${mainKeyword} í• ì¸`,
                `${mainKeyword} ì¿ í°`
            ];

            longTailTemplates.forEach((ltKeyword, idx) => {
                const searchVol = Math.floor(Math.random() * 30000) + 8000;
                const blogCnt = Math.floor(Math.random() * 3000) + 800;
                
                subKeywords.push({
                    keyword: ltKeyword,
                    searchVolume: searchVol,
                    blogCount: blogCnt,
                    competition: ((blogCnt / searchVol) * 100).toFixed(2),
                    score: calculateScore(searchVol, blogCnt),
                    priority: 13 + idx
                });
            });

            // ì ìˆ˜ìˆœ ì •ë ¬
            subKeywords.sort((a, b) => b.score - a.score);
            
            // ìš°ì„ ìˆœìœ„ ì¬ì •ë ¬
            subKeywords.forEach((item, index) => {
                item.priority = index + 1;
            });

            // í¬ìŠ¤íŒ… í”Œëœ ìƒì„±
            const postingPlan = generatePostingPlan(mainKeyword, subKeywords);

            return {
                mainKeyword,
                subKeywords,
                postingPlan
            };
        }

        // ì ìˆ˜ ê³„ì‚°
        function calculateScore(searchVolume, blogCount) {
            const competition = (blogCount / searchVolume) * 100;
            let score = 0;

            // ê²€ìƒ‰ëŸ‰ ì ìˆ˜ (40ì )
            if (searchVolume > 100000) score += 40;
            else if (searchVolume > 50000) score += 35;
            else if (searchVolume > 20000) score += 30;
            else if (searchVolume > 10000) score += 25;
            else score += 20;

            // ê²½ìŸë„ ì ìˆ˜ (60ì )
            if (competition < 5) score += 60;
            else if (competition < 8) score += 50;
            else if (competition < 12) score += 40;
            else if (competition < 20) score += 30;
            else score += 20;

            return Math.round(score);
        }

        // í¬ìŠ¤íŒ… í”Œëœ ìƒì„±
        function generatePostingPlan(mainKeyword, subKeywords) {
            const avgScore = Math.round(subKeywords.reduce((sum, item) => sum + item.score, 0) / subKeywords.length);
            const totalSearchVolume = subKeywords.reduce((sum, item) => sum + item.searchVolume, 0);
            const avgCompetition = (subKeywords.reduce((sum, item) => sum + parseFloat(item.competition), 0) / subKeywords.length).toFixed(2);

            // ë‚œì´ë„ ê³„ì‚°
            let difficulty, difficultyColor;
            if (avgCompetition < 8) {
                difficulty = 'ì‰¬ì›€ â­â­';
                difficultyColor = '#4caf50';
            } else if (avgCompetition < 15) {
                difficulty = 'ë³´í†µ â­â­â­';
                difficultyColor = '#ff9800';
            } else {
                difficulty = 'ì–´ë ¤ì›€ â­â­â­â­';
                difficultyColor = '#f44336';
            }

            // ìˆ˜ìµ ì˜ˆìƒë„
            let profitLevel, profitColor;
            if (avgScore >= 85) {
                profitLevel = 'ë§¤ìš° ë†’ìŒ ğŸ’°ğŸ’°ğŸ’°';
                profitColor = '#4caf50';
            } else if (avgScore >= 75) {
                profitLevel = 'ë†’ìŒ ğŸ’°ğŸ’°';
                profitColor = '#8bc34a';
            } else if (avgScore >= 65) {
                profitLevel = 'ë³´í†µ ğŸ’°';
                profitColor = '#ff9800';
            } else {
                profitLevel = 'ë‚®ìŒ';
                profitColor = '#f44336';
            }

            // ì¶”ì²œ ì œëª© ìƒì„±
            const titleTemplates = [
                `2025 ${mainKeyword} ì¶”ì²œ ìˆœìœ„ TOP10 (ê°€ê²©ë¹„êµ, í›„ê¸°)`,
                `${mainKeyword} ì™„ë²½ ê°€ì´ë“œ - ì¶”ì²œ ì œí’ˆë¶€í„° êµ¬ë§¤íŒê¹Œì§€`,
                `${mainKeyword} ë² ìŠ¤íŠ¸ ì´ì •ë¦¬ | ì¸ê¸° ìˆœìœ„ & í• ì¸ ì •ë³´`,
                `${mainKeyword} ì–´ë–¤ ê±¸ ì‚´ê¹Œ? 2025 ìµœì‹  ì¶”ì²œ`,
                `${mainKeyword} ê°€ì„±ë¹„ ëíŒì™•! ìˆœìœ„ë³„ ë¹„êµ ë¦¬ë·°`
            ];
            const recommendedTitle = titleTemplates[Math.floor(Math.random() * titleTemplates.length)];

            // íƒ€ê²Ÿ í‚¤ì›Œë“œ (ìƒìœ„ 3ê°œ)
            const targetKeywords = subKeywords.slice(0, 3).map(item => item.keyword).join(', ');

            // ëª©ì°¨ êµ¬ì„±
            const outline = [
                `${mainKeyword}ë€? ì„ íƒ ê°€ì´ë“œ`,
                `${mainKeyword} ì¶”ì²œ ìˆœìœ„ TOP5`,
                `${mainKeyword} ê°€ê²© ë¹„êµ ë° í• ì¸ ì •ë³´`,
                `ì‹¤ì œ ì‚¬ìš© í›„ê¸° ë° ì¥ë‹¨ì `,
                `ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)`,
                `êµ¬ë§¤ ì‹œ ì²´í¬í¬ì¸íŠ¸`,
                `ê²°ë¡  ë° ì¶”ì²œ ì œí’ˆ`
            ];

            return {
                recommendedTitle,
                targetKeywords,
                profitLevel,
                profitColor,
                difficulty,
                difficultyColor,
                outline,
                avgScore,
                totalSearchVolume,
                avgCompetition
            };
        }

        // ë¶„ì„ ê²°ê³¼ í‘œì‹œ
        function displayAnalysisResult(result) {
            const { mainKeyword, subKeywords, postingPlan } = result;

            // í¬ìŠ¤íŒ… í”Œëœ í‘œì‹œ
            document.getElementById('recommendedTitle').textContent = postingPlan.recommendedTitle;
            document.getElementById('targetKeywords').textContent = postingPlan.targetKeywords;
            document.getElementById('profitPotential').innerHTML = `<span style="color: ${postingPlan.profitColor};">${postingPlan.profitLevel}</span>`;
            document.getElementById('difficulty').innerHTML = `<span style="color: ${postingPlan.difficultyColor};">${postingPlan.difficulty}</span>`;

            // ëª©ì°¨ êµ¬ì„±
            const outlineHTML = '<ol>' + postingPlan.outline.map(item => `<li>${item}</li>`).join('') + '</ol>';
            document.getElementById('contentOutline').innerHTML = outlineHTML;

            // ì„œë¸Œí‚¤ì›Œë“œ í…Œì´ë¸”
            const tbody = document.getElementById('subKeywordTableBody');
            tbody.innerHTML = '';

            subKeywords.forEach((item, index) => {
                let recommendation, recClass, profit;
                
                if (item.score >= 85) {
                    recommendation = 'ê°•ë ¥ ì¶”ì²œ';
                    recClass = 'rec-high';
                    profit = 'ğŸ’°ğŸ’°ğŸ’°';
                } else if (item.score >= 75) {
                    recommendation = 'ì¶”ì²œ';
                    recClass = 'rec-medium';
                    profit = 'ğŸ’°ğŸ’°';
                } else if (item.score >= 65) {
                    recommendation = 'ë³´í†µ';
                    recClass = 'rec-medium';
                    profit = 'ğŸ’°';
                } else {
                    recommendation = 'ë¹„ì¶”ì²œ';
                    recClass = 'rec-low';
                    profit = '-';
                }

                const row = `
                    <tr>
                        <td><strong>${item.priority}</strong></td>
                        <td class="keyword-name">${item.keyword}</td>
                        <td>${item.searchVolume.toLocaleString()}</td>
                        <td>
                            <div class="competition-bar">
                                <div class="competition-fill" style="width: ${Math.min(item.competition * 2, 100)}%"></div>
                            </div>
                            <small>${item.competition}%</small>
                        </td>
                        <td><span class="recommendation-badge ${recClass}">${recommendation}</span></td>
                        <td><span class="profit-indicator">${profit}</span></td>
                    </tr>
                `;
                tbody.innerHTML += row;
            });

            // ì „ì—­ ë³€ìˆ˜ì— ì €ì¥ (ì—‘ì…€ ë‹¤ìš´ë¡œë“œìš©)
            window.currentAnalysis = result;
        }

        // ì»¤ìŠ¤í…€ ë¶„ì„ ë‹«ê¸°
        function closeCustomAnalysis() {
            document.getElementById('customAnalysisSection').style.display = 'none';
            document.getElementById('customKeyword').value = '';
            
            // ê²€ìƒ‰ ì„¹ì…˜ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            document.querySelector('.search-section').scrollIntoView({ behavior: 'smooth' });
        }

        // í¬ìŠ¤íŒ… í”Œëœ ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
        function exportCustomAnalysis() {
            if (!window.currentAnalysis) {
                alert('ë¶„ì„ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.');
                return;
            }

            const { mainKeyword, subKeywords, postingPlan } = window.currentAnalysis;
            
            let csv = '\ufeff'; // UTF-8 BOM
            csv += `ë©”ì¸ í‚¤ì›Œë“œ,${mainKeyword}\n`;
            csv += `ì¶”ì²œ ì œëª©,${postingPlan.recommendedTitle}\n`;
            csv += `ì˜ˆìƒ ìˆ˜ìµ,${postingPlan.profitLevel}\n`;
            csv += `í¬ìŠ¤íŒ… ë‚œì´ë„,${postingPlan.difficulty}\n`;
            csv += `í‰ê·  ì ìˆ˜,${postingPlan.avgScore}\n`;
            csv += `í‰ê·  ê²½ìŸë„,${postingPlan.avgCompetition}%\n\n`;
            
            csv += '=== ì¶”ì²œ ëª©ì°¨ ===\n';
            postingPlan.outline.forEach((item, idx) => {
                csv += `${idx + 1},${item}\n`;
            });
            csv += '\n';

            csv += '=== ì„œë¸Œ í‚¤ì›Œë“œ ë¶„ì„ ===\n';
            csv += 'ìš°ì„ ìˆœìœ„,í‚¤ì›Œë“œ,ì›”ê°„ê²€ìƒ‰ëŸ‰,ë¸”ë¡œê·¸ë¬¸ì„œìˆ˜,ê²½ìŸë„,ì ìˆ˜,í¬ìŠ¤íŒ…ì¶”ì²œ\n';
            
            subKeywords.forEach(item => {
                let recommendation = item.score >= 85 ? 'ê°•ë ¥ì¶”ì²œ' : item.score >= 75 ? 'ì¶”ì²œ' : item.score >= 65 ? 'ë³´í†µ' : 'ë¹„ì¶”ì²œ';
                csv += `${item.priority},${item.keyword},${item.searchVolume},${item.blogCount},${item.competition}%,${item.score},${recommendation}\n`;
            });

            const blob = new Blob([csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `ë¸”ë¡œê·¸í¬ìŠ¤íŒ…í”Œëœ_${mainKeyword}_${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // ì—‘ì…€ ë‹¤ìš´ë¡œë“œ
        function exportData() {
            let csv = 'ìˆœìœ„,í‚¤ì›Œë“œ,ì¹´í…Œê³ ë¦¬,ì›”ê°„ê²€ìƒ‰ëŸ‰,ë¸”ë¡œê·¸ë¬¸ì„œìˆ˜,ê²½ìŸë„,íŠ¸ë Œë“œ,ì¢…í•©ì ìˆ˜\n';
            
            filteredData.forEach((item, index) => {
                const competition = ((item.blogCount / item.searchVolume) * 100).toFixed(2);
                csv += `${index + 1},${item.keyword},${item.category},${item.searchVolume},${item.blogCount},${competition}%,${item.trendText},${item.score}\n`;
            });

            const blob = new Blob(['\ufeff' + csv], { type: 'text/csv;charset=utf-8;' });
            const link = document.createElement('a');
            const url = URL.createObjectURL(blob);
            
            link.setAttribute('href', url);
            link.setAttribute('download', `ì¿ íŒ¡íŒŒíŠ¸ë„ˆìŠ¤_í™©ê¸ˆí‚¤ì›Œë“œ_${new Date().toISOString().slice(0,10)}.csv`);
            link.style.visibility = 'hidden';
            
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        }

        // Enter í‚¤ ì²˜ë¦¬
        document.getElementById('customKeyword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                analyzeCustomKeyword();
            }
        });
    </script>
</body>
</html>